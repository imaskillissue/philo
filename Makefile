SRC 		= $(wildcard src/*.c src/*/*.c)
OBJ 		= $(SRC:.c=.o)
INCLUDES	= -I./includes -I./libft/includes
CFLAGS 		= -Wall -Wextra -Werror -pedantic -std=c99 -g $(INCLUDES)
LINKER		=
ART			= "           [38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;0;0;0mâ–„\n        [38;2;0;0;0mâ–„[38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;107;173;82mâ–€[0m[38;2;0;0;0m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;123;206;123m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;0;0;0m[48;2;107;173;82mâ–€[0m[38;2;0;0;0mâ–„[38;2;0;0;0mâ–„\n   [38;2;0;0;0mâ–„  [38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;82;140;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;107;173;82mâ–€[0m[38;2;0;0;0m[48;2;66;115;58mâ–€[0m[38;2;0;0;0mâ–„\n  [38;2;0;0;0m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;66;115;58m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;107;173;82m[48;2;82;140;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;107;173;82m[48;2;107;173;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;107;173;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;0;0;0m[48;2;0;0;0mâ–€[0m\n [38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;99;156;99m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;99;156;99m[48;2;123;206;123mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;66;115;58m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;82;140;82m[48;2;82;140;82mâ–€[0m[38;2;82;140;82m[48;2;0;0;0mâ–€[0m[38;2;0;0;0mâ–€\n[38;2;0;0;0mâ–„[38;2;0;0;0m[48;2;189;74;66mâ–€[0m[38;2;99;156;99m[48;2;66;115;58mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;65;65;65mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;82;140;82m[48;2;65;65;65mâ–€[0m[38;2;66;115;58m[48;2;65;65;65mâ–€[0m[38;2;65;65;65m[48;2;99;156;99mâ–€[0m[38;2;0;0;0m[48;2;0;0;0mâ–€[0m\n[38;2;0;0;0mâ–€[38;2;123;206;123m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;123;206;123mâ–€[0m[38;2;66;115;58m[48;2;123;206;123mâ–€[0m[38;2;123;206;123m[48;2;0;0;0mâ–€[0m[38;2;65;65;65m[48;2;0;0;0mâ–€[0m[38;2;0;0;0m[48;2;255;255;255mâ–€[0m[38;2;65;65;65m[48;2;255;255;255mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;65;65;65mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;0;0;0m[48;2;0;0;0mâ–€[0m\n [38;2;0;0;0mâ–€[38;2;99;156;99m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;0;0;0mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;123;206;123m[48;2;99;156;99mâ–€[0m[38;2;0;0;0m[48;2;99;156;99mâ–€[0m[38;2;230;74;66m[48;2;99;156;99mâ–€[0m[38;2;255;255;255m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;65;65;65mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;66;115;58m[48;2;66;115;58mâ–€[0m[38;2;65;65;65m[48;2;65;65;65mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;189;189;189mâ–€[0m[38;2;99;156;99m[48;2;0;0;0mâ–€[0m[38;2;0;0;0mâ–€\n    [38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0m[48;2;0;0;0mâ–€[0m[38;2;99;156;99m[48;2;255;255;255mâ–€[0m[38;2;99;156;99m[48;2;99;156;99mâ–€[0m[38;2;99;156;99m[48;2;255;255;255mâ–€[0m[38;2;99;156;99m[48;2;65;65;65mâ–€[0m[38;2;65;65;65m[48;2;0;0;0mâ–€[0m[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€\n          [38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€[38;2;0;0;0mâ–€\n[0m"
NAME		= philo
CC			= cc
RM			= rm -f
LIBFT_LIB	= libft/libft.a
COUNT		= 0
TOTALFILES  = $(words $(SRC))

all: pre build_libs $(NAME)

pre:
	@echo -e $(ART)

build_libs:
	@echo "Compiling libft..."
	@make -s -C libft
	@echo "Compiling push_swap..."

$(NAME): $(OBJ)
	@$(CC) $(LINKER) $(OBJ) $(LIBFT_LIB) -o $(NAME)
	@echo -e "\nDone."

.c.o:
	@$(CC) $(CFLAGS) -c $< -o $@
	@$(eval COUNT=$(shell echo $$(($(COUNT)+1))))
	@echo -ne "\033[2KCompiling file \033[1;32m$<\033[0m [\033[1;33m$(COUNT)\033[0m/\033[1;33m$(TOTALFILES)\033[0m]\r"

clean: pre
	@$(RM) $(OBJ)
	@make clean -s -C libft
	@echo "Cleaned up object files."

fclean: clean
	@$(RM) $(NAME)
	@$(RM) $(LIBFT)
	@$(RM) $(MLX_LIB)
	@echo "Cleaned up compiled files."

re: fclean all

.PHONY: all clean fclean re pre build_libs